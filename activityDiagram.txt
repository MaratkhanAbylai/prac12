@startuml
start

:Клиент создаёт заказ;

:Система проверяет наличие товаров;
if (Все товары в наличии?) then (Да)
    :Подтвердить заказ;
else (Нет)
    :Отправить уведомление клиенту
    <<activity>> "Предложить изменить заказ";
    stop
endif

:Клиент выбирает способ оплаты;
if (Онлайн оплата?) then (Да)
    :Проверка платежа через платежный шлюз;
    if (Платеж успешен?) then (Да)
        :Оплата подтверждена;
    else (Нет)
        :Уведомление об ошибке оплаты;
        stop
    endif
else (Нет)
    :Оплата при получении;
endif

:Склад начинает сборку заказа;

if (Способ доставки?) then (Курьер)
    :Отправить заявку курьерской службе;
    :Курьер доставляет заказ клиенту;
else (Самовывоз)
    :Отправить уведомление о готовности заказа;
endif

:Клиент подтверждает получение;
:Система завершает заказ;
:Отправить электронный чек клиенту;

stop
@enduml
